{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function SignupScreen(_ref) {\n  var onBack = _ref.onBack,\n    onCreated = _ref.onCreated;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    email = _useState4[0],\n    setEmail = _useState4[1];\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    password = _useState6[0],\n    setPassword = _useState6[1];\n  var handleCreate = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!username || !email || !password) {\n        Alert.alert('Erro', 'Preencha todos os campos');\n        return;\n      }\n      try {\n        var key = '@user_' + username;\n        var exists = yield AsyncStorage.getItem(key);\n        if (exists) {\n          Alert.alert('Erro', 'Usuário já existe');\n          return;\n        }\n        var user = {\n          username: username,\n          email: email,\n          password: password,\n          todos: [],\n          profile: {}\n        };\n        yield AsyncStorage.setItem(key, JSON.stringify(user));\n        yield AsyncStorage.setItem('@current_user', JSON.stringify(user));\n        Alert.alert('Sucesso', 'Conta criada');\n        onCreated(user);\n      } catch (e) {\n        Alert.alert('Erro', 'Falha ao salvar');\n      }\n    });\n    return function handleCreate() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Criar Conta\"\n    }), _jsx(TextInput, {\n      placeholder: \"Usu\\xE1rio\",\n      value: username,\n      onChangeText: setUsername,\n      style: styles.input\n    }), _jsx(TextInput, {\n      placeholder: \"Email\",\n      value: email,\n      onChangeText: setEmail,\n      style: styles.input,\n      keyboardType: \"email-address\"\n    }), _jsx(TextInput, {\n      placeholder: \"Senha\",\n      value: password,\n      onChangeText: setPassword,\n      secureTextEntry: true,\n      style: styles.input\n    }), _jsx(Button, {\n      title: \"Criar Conta\",\n      onPress: handleCreate\n    }), _jsx(View, {\n      style: {\n        height: 12\n      }\n    }), _jsx(Button, {\n      title: \"Voltar\",\n      onPress: onBack\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    marginTop: 40\n  },\n  title: {\n    fontSize: 22,\n    marginBottom: 12\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ddd',\n    padding: 10,\n    marginBottom: 12,\n    borderRadius: 6,\n    backgroundColor: '#fff'\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","Button","StyleSheet","Alert","AsyncStorage","jsx","_jsx","jsxs","_jsxs","SignupScreen","_ref","onBack","onCreated","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","email","setEmail","_useState5","_useState6","password","setPassword","handleCreate","_ref2","_asyncToGenerator","alert","key","exists","getItem","user","todos","profile","setItem","JSON","stringify","e","apply","arguments","style","styles","container","children","title","placeholder","value","onChangeText","input","keyboardType","secureTextEntry","onPress","height","create","padding","marginTop","fontSize","marginBottom","borderWidth","borderColor","borderRadius","backgroundColor"],"sources":["C:/Users/24024/multifunction/screens/SignupScreen.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { View, Text, TextInput, Button, StyleSheet, Alert } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport default function SignupScreen({onBack, onCreated}){\n  const [username, setUsername] = useState('');\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleCreate = async ()=>{\n    if(!username || !email || !password){ Alert.alert('Erro','Preencha todos os campos'); return; }\n    try{\n      const key = '@user_'+username;\n      const exists = await AsyncStorage.getItem(key);\n      if(exists){ Alert.alert('Erro','Usuário já existe'); return; }\n      const user = {username, email, password, todos: [], profile:{}};\n      await AsyncStorage.setItem(key, JSON.stringify(user));\n      await AsyncStorage.setItem('@current_user', JSON.stringify(user));\n      Alert.alert('Sucesso','Conta criada');\n      onCreated(user);\n    }catch(e){ Alert.alert('Erro','Falha ao salvar'); }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Criar Conta</Text>\n      <TextInput placeholder='Usuário' value={username} onChangeText={setUsername} style={styles.input} />\n      <TextInput placeholder='Email' value={email} onChangeText={setEmail} style={styles.input} keyboardType='email-address' />\n      <TextInput placeholder='Senha' value={password} onChangeText={setPassword} secureTextEntry style={styles.input} />\n      <Button title='Criar Conta' onPress={handleCreate} />\n      <View style={{height:12}} />\n      <Button title='Voltar' onPress={onBack} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container:{padding:20, marginTop:40},\n  title:{fontSize:22, marginBottom:12},\n  input:{borderWidth:1,borderColor:'#ddd',padding:10,marginBottom:12,borderRadius:6,backgroundColor:'#fff'}\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}