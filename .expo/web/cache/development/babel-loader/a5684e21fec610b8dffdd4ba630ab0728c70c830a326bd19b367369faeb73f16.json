{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function LoginScreen(_ref) {\n  var onSignup = _ref.onSignup,\n    onLogin = _ref.onLogin;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    username = _useState2[0],\n    setUsername = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    password = _useState4[0],\n    setPassword = _useState4[1];\n  var handleLogin = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      if (!username || !password) {\n        Alert.alert('Erro', 'Preencha usuário e senha');\n        return;\n      }\n      try {\n        var key = '@user_' + username;\n        var raw = yield AsyncStorage.getItem(key);\n        if (!raw) {\n          Alert.alert('Erro', 'Usuário não encontrado');\n          return;\n        }\n        var user = JSON.parse(raw);\n        if (user.password !== password) {\n          Alert.alert('Erro', 'Senha incorreta');\n          return;\n        }\n        yield AsyncStorage.setItem('@current_user', JSON.stringify(user));\n        Alert.alert('Sucesso', 'Login realizado');\n        onLogin(user);\n      } catch (e) {\n        Alert.alert('Erro', 'Falha ao acessar armazenamento');\n      }\n    });\n    return function handleLogin() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(Text, {\n      style: styles.title,\n      children: \"Entrar\"\n    }), _jsx(TextInput, {\n      placeholder: \"Usu\\xE1rio\",\n      value: username,\n      onChangeText: setUsername,\n      style: styles.input\n    }), _jsx(TextInput, {\n      placeholder: \"Senha\",\n      value: password,\n      onChangeText: setPassword,\n      secureTextEntry: true,\n      style: styles.input\n    }), _jsx(Button, {\n      title: \"Login\",\n      onPress: handleLogin\n    }), _jsx(View, {\n      style: {\n        height: 12\n      }\n    }), _jsx(Button, {\n      title: \"Criar conta\",\n      onPress: onSignup\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  container: {\n    padding: 20,\n    marginTop: 60\n  },\n  title: {\n    fontSize: 26,\n    marginBottom: 12\n  },\n  input: {\n    borderWidth: 1,\n    borderColor: '#ddd',\n    padding: 10,\n    marginBottom: 12,\n    borderRadius: 6,\n    backgroundColor: '#fff'\n  }\n});","map":{"version":3,"names":["React","useState","View","Text","TextInput","Button","StyleSheet","Alert","AsyncStorage","jsx","_jsx","jsxs","_jsxs","LoginScreen","_ref","onSignup","onLogin","_useState","_useState2","_slicedToArray","username","setUsername","_useState3","_useState4","password","setPassword","handleLogin","_ref2","_asyncToGenerator","alert","key","raw","getItem","user","JSON","parse","setItem","stringify","e","apply","arguments","style","styles","container","children","title","placeholder","value","onChangeText","input","secureTextEntry","onPress","height","create","padding","marginTop","fontSize","marginBottom","borderWidth","borderColor","borderRadius","backgroundColor"],"sources":["C:/Users/24024/multifunction/screens/LoginScreen.js"],"sourcesContent":["import React, {useState} from 'react';\nimport { View, Text, TextInput, Button, StyleSheet, Alert } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport default function LoginScreen({onSignup, onLogin}){\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleLogin = async ()=>{\n    if(!username || !password){ Alert.alert('Erro','Preencha usuário e senha'); return; }\n    try{\n      const key = '@user_'+username;\n      const raw = await AsyncStorage.getItem(key);\n      if(!raw){ Alert.alert('Erro','Usuário não encontrado'); return; }\n      const user = JSON.parse(raw);\n      if(user.password !== password){ Alert.alert('Erro','Senha incorreta'); return; }\n      await AsyncStorage.setItem('@current_user', JSON.stringify(user));\n      Alert.alert('Sucesso','Login realizado');\n      onLogin(user);\n    }catch(e){ Alert.alert('Erro','Falha ao acessar armazenamento'); }\n  };\n\n  return (\n    <View style={styles.container}>\n      <Text style={styles.title}>Entrar</Text>\n      <TextInput placeholder='Usuário' value={username} onChangeText={setUsername} style={styles.input} />\n      <TextInput placeholder='Senha' value={password} onChangeText={setPassword} secureTextEntry style={styles.input} />\n      <Button title='Login' onPress={handleLogin} />\n      <View style={{height:12}} />\n      <Button title='Criar conta' onPress={onSignup} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container:{padding:20, marginTop:60},\n  title:{fontSize:26, marginBottom:12},\n  input:{borderWidth:1,borderColor:'#ddd',padding:10,marginBottom:12,borderRadius:6,backgroundColor:'#fff'}\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}