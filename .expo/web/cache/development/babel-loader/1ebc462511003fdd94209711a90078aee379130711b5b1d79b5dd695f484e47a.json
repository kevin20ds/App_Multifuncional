{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function TodoList(_ref) {\n  var username = _ref.username;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    text = _useState2[0],\n    setText = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    todos = _useState4[0],\n    setTodos = _useState4[1];\n  var storageKey = username ? '@todos_' + username : '@todos_guest';\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var raw = yield AsyncStorage.getItem(storageKey);\n      if (raw) setTodos(JSON.parse(raw));\n    })();\n  }, []);\n  var persist = function () {\n    var _ref3 = _asyncToGenerator(function* (newTodos) {\n      setTodos(newTodos);\n      yield AsyncStorage.setItem(storageKey, JSON.stringify(newTodos));\n    });\n    return function persist(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n  var add = function () {\n    var _ref4 = _asyncToGenerator(function* () {\n      if (!text.trim()) {\n        Alert.alert('Erro', 'Digite uma tarefa');\n        return;\n      }\n      var n = {\n        id: Date.now().toString(),\n        text: text.trim(),\n        done: false\n      };\n      persist([n].concat(_toConsumableArray(todos)));\n      setText('');\n    });\n    return function add() {\n      return _ref4.apply(this, arguments);\n    };\n  }();\n  var toggle = function () {\n    var _ref5 = _asyncToGenerator(function* (id) {\n      var updated = todos.map(function (t) {\n        return t.id === id ? _objectSpread(_objectSpread({}, t), {}, {\n          done: !t.done\n        }) : t;\n      });\n      persist(updated);\n    });\n    return function toggle(_x2) {\n      return _ref5.apply(this, arguments);\n    };\n  }();\n  var remove = function () {\n    var _ref6 = _asyncToGenerator(function* (id) {\n      persist(todos.filter(function (t) {\n        return t.id !== id;\n      }));\n    });\n    return function remove(_x3) {\n      return _ref6.apply(this, arguments);\n    };\n  }();\n  var edit = function () {\n    var _ref7 = _asyncToGenerator(function* (id) {\n      var t = todos.find(function (x) {\n        return x.id === id;\n      });\n      var newText = prompt ? prompt('Editar tarefa', t.text) : null;\n      Alert.prompt && Alert.prompt('Editar', null, function (val) {\n        if (val) persist(todos.map(function (x) {\n          return x.id === id ? _objectSpread(_objectSpread({}, x), {}, {\n            text: val\n          }) : x;\n        }));\n      }, 'plain-text', t.text);\n    });\n    return function edit(_x4) {\n      return _ref7.apply(this, arguments);\n    };\n  }();\n  return _jsxs(View, {\n    children: [_jsxs(View, {\n      style: {\n        flexDirection: 'row',\n        marginBottom: 8\n      },\n      children: [_jsx(TextInput, {\n        placeholder: \"Nova tarefa\",\n        value: text,\n        onChangeText: setText,\n        style: styles.input\n      }), _jsx(View, {\n        style: {\n          width: 8\n        }\n      }), _jsx(Button, {\n        title: \"Adicionar\",\n        onPress: add\n      })]\n    }), _jsx(FlatList, {\n      data: todos,\n      keyExtractor: function keyExtractor(item) {\n        return item.id;\n      },\n      renderItem: function renderItem(_ref8) {\n        var item = _ref8.item;\n        return _jsxs(View, {\n          style: styles.item,\n          children: [_jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return toggle(item.id);\n            },\n            style: {\n              flex: 1\n            },\n            children: _jsx(Text, {\n              style: {\n                textDecorationLine: item.done ? 'line-through' : 'none'\n              },\n              children: item.text\n            })\n          }), _jsx(Button, {\n            title: \"Editar\",\n            onPress: function onPress() {\n              return edit(item.id);\n            }\n          }), _jsx(View, {\n            style: {\n              width: 6\n            }\n          }), _jsx(Button, {\n            title: \"Excluir\",\n            color: \"#cc0000\",\n            onPress: function onPress() {\n              return remove(item.id);\n            }\n          })]\n        });\n      }\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  input: {\n    flex: 1,\n    borderWidth: 1,\n    borderColor: '#ddd',\n    padding: 8,\n    borderRadius: 6,\n    backgroundColor: '#fff'\n  },\n  item: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    padding: 8,\n    borderBottomWidth: 1,\n    borderColor: '#eee'\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","View","Text","TextInput","Button","FlatList","TouchableOpacity","StyleSheet","Alert","AsyncStorage","jsx","_jsx","jsxs","_jsxs","TodoList","_ref","username","_useState","_useState2","_slicedToArray","text","setText","_useState3","_useState4","todos","setTodos","storageKey","_asyncToGenerator","raw","getItem","JSON","parse","persist","_ref3","newTodos","setItem","stringify","_x","apply","arguments","add","_ref4","trim","alert","n","id","Date","now","toString","done","concat","_toConsumableArray","toggle","_ref5","updated","map","t","_objectSpread","_x2","remove","_ref6","filter","_x3","edit","_ref7","find","x","newText","prompt","val","_x4","children","style","flexDirection","marginBottom","placeholder","value","onChangeText","styles","input","width","title","onPress","data","keyExtractor","item","renderItem","_ref8","flex","textDecorationLine","color","create","borderWidth","borderColor","padding","borderRadius","backgroundColor","alignItems","borderBottomWidth"],"sources":["C:/Users/24024/multifunction/widgets/TodoList.js"],"sourcesContent":["import React, {useState, useEffect} from 'react';\nimport { View, Text, TextInput, Button, FlatList, TouchableOpacity, StyleSheet, Alert } from 'react-native';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nexport default function TodoList({username}){\n  const [text, setText] = useState('');\n  const [todos, setTodos] = useState([]);\n\n  const storageKey = username ? '@todos_'+username : '@todos_guest';\n\n  useEffect(()=>{\n    (async ()=>{\n      const raw = await AsyncStorage.getItem(storageKey);\n      if(raw) setTodos(JSON.parse(raw));\n    })();\n  }, []);\n\n  const persist = async (newTodos)=>{\n    setTodos(newTodos);\n    await AsyncStorage.setItem(storageKey, JSON.stringify(newTodos));\n  };\n\n  const add = async ()=>{\n    if(!text.trim()){ Alert.alert('Erro','Digite uma tarefa'); return; }\n    const n = {id:Date.now().toString(), text: text.trim(), done:false};\n    persist([n, ...todos]);\n    setText('');\n  };\n\n  const toggle = async (id)=>{\n    const updated = todos.map(t => t.id===id ? {...t, done: !t.done} : t);\n    persist(updated);\n  };\n\n  const remove = async (id)=>{\n    persist(todos.filter(t=>t.id!==id));\n  };\n\n  const edit = async (id)=>{\n    const t = todos.find(x=>x.id===id);\n    const newText = prompt ? prompt('Editar tarefa', t.text) : null;\n    // prompt doesn't exist in RN - simple alert\n    Alert.prompt && Alert.prompt('Editar', null, (val)=>{ if(val) persist(todos.map(x=> x.id===id ? {...x, text:val} : x)); }, 'plain-text', t.text);\n  };\n\n  return (\n    <View>\n      <View style={{flexDirection:'row', marginBottom:8}}>\n        <TextInput placeholder='Nova tarefa' value={text} onChangeText={setText} style={styles.input} />\n        <View style={{width:8}}/>\n        <Button title='Adicionar' onPress={add} />\n      </View>\n\n      <FlatList data={todos} keyExtractor={item=>item.id} renderItem={({item})=>(\n        <View style={styles.item}>\n          <TouchableOpacity onPress={()=>toggle(item.id)} style={{flex:1}}>\n            <Text style={{textDecorationLine: item.done ? 'line-through' : 'none'}}>{item.text}</Text>\n          </TouchableOpacity>\n          <Button title='Editar' onPress={()=>edit(item.id)} />\n          <View style={{width:6}} />\n          <Button title='Excluir' color='#cc0000' onPress={()=>remove(item.id)} />\n        </View>\n      )} />\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  input:{flex:1, borderWidth:1,borderColor:'#ddd',padding:8,borderRadius:6,backgroundColor:'#fff'},\n  item:{flexDirection:'row', alignItems:'center', padding:8, borderBottomWidth:1, borderColor:'#eee'}\n});\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}